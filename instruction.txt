Instructions to host Visuocial (Azure)

1. navigate to `/node_modules/grunt`
`npm install glob@^6.0.4 --save`

2. Go to `visuocial\node_modules\sails-auth\dist\api\controllers\AuthController.js`
Go to line 94, remove the if statement and add `req.query.next = "/dashboard";` to redirect any login to dashboard

3. Go to `visuocial\node_modules\sails-auth\dist\api\services\passport.js`

Go to line 131, replace this line
    return passport.save().then(function (passport) {
with
    return passport.save().then(function () {

Go to line 134, replace this line
    return sails.models.user.findOne(passport.user.id);
with
    return sails.models.user.findOne(passport.user);

4. Make sure you have cloned the schema in localDiskDb.db in .tmp folder to your sql server

5. `config/models.js`

module.exports.models = {
	connection: 'sqlserver',
	migrate: 'safe'
};

6. `config/connections.js`

sqlserver: {
	adapter: 'sails-sqlserver',
	user: 'xxxx',
	password: 'xxxx',
	host: 'servername.database.windows.net', // azure database 
	database: 'dbname',
	options: {
	  encrypt: true   // use this for Azure databases 
	}
}


